<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <style>
    .counties {
      fill: none;
    }
    .states {
      fill: none;
      stroke: #fff;
      stroke-linejoin: round;
    }
    </style>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
<script src="https://d3js.org/d3-array.v1.min.js"></script>
<script src="https://d3js.org/d3-geo.v1.min.js"></script>
</head>
<body>
<svg width="960" height="600"></svg>
<script>
    var svg = d3.select("svg");
    svg.attr("preserveAspectRatio", "xMinYMin meet");

    svg.attr("width" ,window.innerWidth);
    svg.attr("height" ,window.innerHeight);



    d3.queue()
        .defer(d3.json, "map.json")
        // .defer(d3.tsv, "unemployment.tsv", function(d) { unemployment.set(d.id, +d.rate); })
        //.defer(d3.tsv, "unemployment-states.tsv", function(d) { unemployment.set(d.id, +d.rate); })
        .await(ready);

    function ready(error, map) {
      if (error) throw error;

      var projection = d3.geoEqualEarth();
      var outlines =  topojson.feature(
                map,
                map.objects["out"]).features;
      projection.fitSize([window.innerWidth, window.innerHeight], topojson.feature(
                map,
                map.objects["out"]));
      var path = d3.geoPath(projection);

      for(var feature in outlines){
        console.log(outlines[feature].properties);
        svg.append("path")
            .attr("fill", "#F00")
            .attr("d", path(outlines[feature]));

      }
    }


    </script>
</body>